import{n as z,o as Rt,q as It,u as Pt,v as kt}from"./CZfX0bvN.js";import{L as d,X as mt,al as S,a4 as Mt,W as g,ax as rt,ay as Dt,az as O,aA as _t,aB as y,r as Nt,q as st,v as Bt,I as Wt,u as W,j as q,x as Vt,z as R,A as V,C as U,D as j,F as G,G as K,H as I,aC as Ut}from"./C7V4xyOV.js";import"./DsnmJJEf.js";import{p}from"./BoPhF24d.js";function jt(e){return typeof e=="function"}function P(e){return e!==null&&typeof e=="object"}const Gt=["string","number","bigint","boolean"];function Y(e){return e==null||Gt.includes(typeof e)?!0:Array.isArray(e)?e.every(t=>Y(t)):typeof e=="object"?Object.getPrototypeOf(e)===Object.prototype:!1}const B=Symbol("box"),gt=Symbol("is-writable");function h(e,t){const n=mt(e);return t?{[B]:!0,[gt]:!0,get current(){return d(n)},set current(r){t(r)}}:{[B]:!0,get current(){return e()}}}function bt(e){return P(e)&&B in e}function cn(e){return bt(e)?e:jt(e)?h(e):yt(e)}function yt(e){let t=S(Mt(e));return{[B]:!0,[gt]:!0,get current(){return d(t)},set current(n){g(t,n,!0)}}}function vt(...e){return function(t){for(const n of e)if(n){if(t.defaultPrevented)return;typeof n=="function"?n.call(this,t):n.current?.call(this,t)}}}var ot=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Kt=/\n/g,zt=/^\s*/,Ht=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Xt=/^:\s*/,qt=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Yt=/^[;\s]*/,Jt=/^\s+|\s+$/g,Zt=`
`,it="/",ut="*",T="",Qt="comment",$t="declaration";function te(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function s(f){var c=f.match(Kt);c&&(n+=c.length);var v=f.lastIndexOf(Zt);r=~v?f.length-v:r+f.length}function o(){var f={line:n,column:r};return function(c){return c.position=new i(f),l(),c}}function i(f){this.start=f,this.end={line:n,column:r},this.source=t.source}i.prototype.content=e;function u(f){var c=new Error(t.source+":"+n+":"+r+": "+f);if(c.reason=f,c.filename=t.source,c.line=n,c.column=r,c.source=e,!t.silent)throw c}function a(f){var c=f.exec(e);if(c){var v=c[0];return s(v),e=e.slice(v.length),c}}function l(){a(zt)}function m(f){var c;for(f=f||[];c=w();)c!==!1&&f.push(c);return f}function w(){var f=o();if(!(it!=e.charAt(0)||ut!=e.charAt(1))){for(var c=2;T!=e.charAt(c)&&(ut!=e.charAt(c)||it!=e.charAt(c+1));)++c;if(c+=2,T===e.charAt(c-1))return u("End of comment missing");var v=e.slice(2,c-2);return r+=2,s(v),e=e.slice(c),r+=2,f({type:Qt,comment:v})}}function C(){var f=o(),c=a(Ht);if(c){if(w(),!a(Xt))return u("property missing ':'");var v=a(qt),Ft=f({type:$t,property:ct(c[0].replace(ot,T)),value:v?ct(v[0].replace(ot,T)):T});return a(Yt),Ft}}function E(){var f=[];m(f);for(var c;c=C();)c!==!1&&(f.push(c),m(f));return f}return l(),E()}function ct(e){return e?e.replace(Jt,T):T}function ee(e,t){let n=null;if(!e||typeof e!="string")return n;const r=te(e),s=typeof t=="function";return r.forEach(o=>{if(o.type!=="declaration")return;const{property:i,value:u}=o;s?t(i,u,o):u&&(n=n||{},n[i]=u)}),n}const ne=/\d/,re=["-","_","/","."];function se(e=""){if(!ne.test(e))return e!==e.toLowerCase()}function oe(e){const t=[];let n="",r,s;for(const o of e){const i=re.includes(o);if(i===!0){t.push(n),n="",r=void 0;continue}const u=se(o);if(s===!1){if(r===!1&&u===!0){t.push(n),n=o,r=u;continue}if(r===!0&&u===!1&&n.length>1){const a=n.at(-1);t.push(n.slice(0,Math.max(0,n.length-1))),n=a+o,r=u;continue}}n+=o,r=u,s=i}return t.push(n),t}function wt(e){return e?oe(e).map(t=>ue(t)).join(""):""}function ie(e){return ce(wt(e||""))}function ue(e){return e?e[0].toUpperCase()+e.slice(1):""}function ce(e){return e?e[0].toLowerCase()+e.slice(1):""}function M(e){if(!e)return{};const t={};function n(r,s){if(r.startsWith("-moz-")||r.startsWith("-webkit-")||r.startsWith("-ms-")||r.startsWith("-o-")){t[wt(r)]=s;return}if(r.startsWith("--")){t[r]=s;return}t[ie(r)]=s}return ee(e,n),t}function F(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}function ae(e,t){const n=RegExp(e,"g");return r=>{if(typeof r!="string")throw new TypeError(`expected an argument of type string, but got ${typeof r}`);return r.match(n)?r.replace(n,t):r}}const le=ae(/[A-Z]/,e=>`-${e.toLowerCase()}`);function fe(e){if(!e||typeof e!="object"||Array.isArray(e))throw new TypeError(`expected an argument of type object, but got ${typeof e}`);return Object.keys(e).map(t=>`${le(t)}: ${e[t]};`).join(`
`)}function he(e={}){return fe(e).replace(`
`," ")}const de=["onabort","onanimationcancel","onanimationend","onanimationiteration","onanimationstart","onauxclick","onbeforeinput","onbeforetoggle","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncompositionend","oncompositionstart","oncompositionupdate","oncontextlost","oncontextmenu","oncontextrestored","oncopy","oncuechange","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onfocusin","onfocusout","onformdata","ongotpointercapture","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onlostpointercapture","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onpaste","onpause","onplay","onplaying","onpointercancel","onpointerdown","onpointerenter","onpointerleave","onpointermove","onpointerout","onpointerover","onpointerup","onprogress","onratechange","onreset","onresize","onscroll","onscrollend","onsecuritypolicyviolation","onseeked","onseeking","onselect","onselectionchange","onselectstart","onslotchange","onstalled","onsubmit","onsuspend","ontimeupdate","ontoggle","ontouchcancel","ontouchend","ontouchmove","ontouchstart","ontransitioncancel","ontransitionend","ontransitionrun","ontransitionstart","onvolumechange","onwaiting","onwebkitanimationend","onwebkitanimationiteration","onwebkitanimationstart","onwebkittransitionend","onwheel"],pe=new Set(de);function me(e){return pe.has(e)}function an(...e){const t={...e[0]};for(let n=1;n<e.length;n++){const r=e[n];if(r){for(const s of Object.keys(r)){const o=t[s],i=r[s],u=typeof o=="function",a=typeof i=="function";if(u&&me(s)){const l=o,m=i;t[s]=vt(l,m)}else if(u&&a)t[s]=F(o,i);else if(s==="class"){const l=Y(o),m=Y(i);l&&m?t[s]=z(o,i):l?t[s]=z(o):m&&(t[s]=z(i))}else if(s==="style"){const l=typeof o=="object",m=typeof i=="object",w=typeof o=="string",C=typeof i=="string";if(l&&m)t[s]={...o,...i};else if(l&&C){const E=M(i);t[s]={...o,...E}}else if(w&&m){const E=M(o);t[s]={...E,...i}}else if(w&&C){const E=M(o),f=M(i);t[s]={...E,...f}}else l?t[s]=o:m?t[s]=i:w?t[s]=o:C&&(t[s]=i)}else t[s]=i!==void 0?i:o}for(const s of Object.getOwnPropertySymbols(r)){const o=t[s],i=r[s];t[s]=i!==void 0?i:o}}}return typeof t.style=="object"&&(t.style=he(t.style).replaceAll(`
`," ")),t.hidden===!1&&(t.hidden=void 0,delete t.hidden),t.disabled===!1&&(t.disabled=void 0,delete t.disabled),t}const ge=typeof window<"u"?window:void 0;function be(e){let t=e.activeElement;for(;t?.shadowRoot;){const n=t.shadowRoot.activeElement;if(n===t)break;t=n}return t}class ye extends Map{#t=new Map;#e=S(0);#n=S(0);#r=rt||-1;constructor(t){if(super(),t){for(var[n,r]of t)super.set(n,r);this.#n.v=super.size}}#s(t){return rt===this.#r?S(t):Dt(t)}has(t){var n=this.#t,r=n.get(t);if(r===void 0){var s=super.get(t);if(s!==void 0)r=this.#s(0),n.set(t,r);else return d(this.#e),!1}return d(r),!0}forEach(t,n){this.#o(),super.forEach(t,n)}get(t){var n=this.#t,r=n.get(t);if(r===void 0){var s=super.get(t);if(s!==void 0)r=this.#s(0),n.set(t,r);else{d(this.#e);return}}return d(r),super.get(t)}set(t,n){var r=this.#t,s=r.get(t),o=super.get(t),i=super.set(t,n),u=this.#e;if(s===void 0)s=this.#s(0),r.set(t,s),g(this.#n,super.size),O(u);else if(o!==n){O(s);var a=u.reactions===null?null:new Set(u.reactions),l=a===null||!s.reactions?.every(m=>a.has(m));l&&O(u)}return i}delete(t){var n=this.#t,r=n.get(t),s=super.delete(t);return r!==void 0&&(n.delete(t),g(this.#n,super.size),g(r,-1),O(this.#e)),s}clear(){if(super.size!==0){super.clear();var t=this.#t;g(this.#n,0);for(var n of t.values())g(n,-1);O(this.#e),t.clear()}}#o(){d(this.#e);var t=this.#t;if(this.#n.v!==t.size){for(var n of super.keys())if(!t.has(n)){var r=this.#s(0);t.set(n,r)}}for([,r]of this.#t)d(r)}keys(){return d(this.#e),super.keys()}values(){return this.#o(),super.values()}entries(){return this.#o(),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return d(this.#n),super.size}}class ve{#t;#e;constructor(t={}){const{window:n=ge,document:r=n?.document}=t;n!==void 0&&(this.#t=r,this.#e=_t(s=>{const o=y(n,"focusin",s),i=y(n,"focusout",s);return()=>{o(),i()}}))}get current(){return this.#e?.(),this.#t?be(this.#t):null}}new ve;class we{#t;#e;constructor(t){this.#t=t,this.#e=Symbol(t)}get key(){return this.#e}exists(){return Nt(this.#e)}get(){const t=st(this.#e);if(t===void 0)throw new Error(`Context "${this.#t}" not found`);return t}getOr(t){const n=st(this.#e);return n===void 0?t:n}set(t){return Bt(this.#e,t)}}function Ee(e,t){switch(e){case"post":W(t);break;case"pre":Wt(t);break}}function Et(e,t,n,r={}){const{lazy:s=!1}=r;let o=!s,i=Array.isArray(e)?[]:void 0;Ee(t,()=>{const u=Array.isArray(e)?e.map(l=>l()):e();if(!o){o=!0,i=u;return}const a=q(()=>n(u,i));return i=u,a})}function A(e,t,n){Et(e,"post",t,n)}function Te(e,t,n){Et(e,"pre",t,n)}A.pre=Te;function k(e){W(()=>()=>{e()})}function Se(e,t){return setTimeout(t,e)}function Z(e){Vt().then(e)}const Ae=1,Ce=9,Oe=11;function J(e){return P(e)&&e.nodeType===Ae&&typeof e.nodeName=="string"}function Tt(e){return P(e)&&e.nodeType===Ce}function Le(e){return P(e)&&e.constructor?.name==="VisualViewport"}function xe(e){return P(e)&&e.nodeType!==void 0}function St(e){return xe(e)&&e.nodeType===Oe&&"host"in e}function Fe(e,t){if(!e||!t||!J(e)||!J(t))return!1;const n=t.getRootNode?.();if(e===t||e.contains(t))return!0;if(n&&St(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function Re(e){return Tt(e)?e:Le(e)?e.document:e?.ownerDocument??document}function Ie(e){return St(e)?Ie(e.host):Tt(e)?e.defaultView??window:J(e)?e.ownerDocument?.defaultView??window:window}function Pe(e){let t=e.activeElement;for(;t?.shadowRoot;){const n=t.shadowRoot.activeElement;if(n===t)break;t=n}return t}class At{element;#t=mt(()=>this.element.current?this.element.current.getRootNode()??document:document);get root(){return d(this.#t)}set root(t){g(this.#t,t)}constructor(t){typeof t=="function"?this.element=h(t):this.element=t}getDocument=()=>Re(this.root);getWindow=()=>this.getDocument().defaultView??window;getActiveElement=()=>Pe(this.root);isActiveElement=t=>t===this.getActiveElement();getElementById(t){return this.root.getElementById(t)}querySelector=t=>this.root?this.root.querySelector(t):null;querySelectorAll=t=>this.root?this.root.querySelectorAll(t):[];setTimeout=(t,n)=>this.getWindow().setTimeout(t,n);clearTimeout=t=>this.getWindow().clearTimeout(t)}function ln(e,t){return{[Rt()]:n=>bt(e)?(e.current=n,q(()=>t?.(n)),()=>{"isConnected"in n&&n.isConnected||(e.current=null,t?.(null))}):(e(n),q(()=>t?.(n)),()=>{"isConnected"in n&&n.isConnected||(e(null),t?.(null))})}}function fn(e){return e?"true":"false"}function hn(e){return e?"true":void 0}function dn(e){return e?"":void 0}function pn(e){return e?"open":"closed"}class ke{#t;#e;attrs;constructor(t){this.#t=t.getVariant?t.getVariant():null,this.#e=this.#t?`data-${this.#t}-`:`data-${t.component}-`,this.getAttr=this.getAttr.bind(this),this.selector=this.selector.bind(this),this.attrs=Object.fromEntries(t.parts.map(n=>[n,this.getAttr(n)]))}getAttr(t,n){return n?`data-${n}-${t}`:`${this.#e}${t}`}selector(t,n){return`[${this.getAttr(t,n)}]`}}function Me(e){const t=new ke(e);return{...t.attrs,selector:t.selector,getAttr:t.getAttr}}const mn="ArrowDown",gn="ArrowLeft",bn="ArrowRight",yn="ArrowUp",vn="Enter",De="Escape",wn=" ",_e=typeof document<"u",at=Ne();function Ne(){return _e&&window?.navigator?.userAgent&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||window?.navigator?.maxTouchPoints>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}function lt(e){return e instanceof HTMLElement}function En(e){return e instanceof Element}function Be(e){return e instanceof Element||e instanceof SVGElement}function Tn(e){return e===null}function Sn(e){return e!==null}class We{#t;#e=null;constructor(t){this.#t=t,k(()=>this.#n())}#n(){this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null)}run(t){this.#n();const n=this.#t.ref.current;if(n){if(typeof n.getAnimations!="function"){this.#r(t);return}this.#e=window.requestAnimationFrame(()=>{const r=n.getAnimations();if(r.length===0){this.#r(t);return}Promise.allSettled(r.map(s=>s.finished)).then(()=>{this.#r(t)})})}}#r(t){const n=()=>{t()};this.#t.afterTick?Z(n):n()}}class An{#t;#e;#n;#r=S(!1);constructor(t){this.#t=t,g(this.#r,t.open.current,!0),this.#e=t.enabled??!0,this.#n=new We({ref:this.#t.ref,afterTick:this.#t.open}),A(()=>this.#t.open.current,n=>{n&&g(this.#r,!0),this.#e&&this.#n.run(()=>{n===this.#t.open.current&&(this.#t.open.current||g(this.#r,!1),this.#t.onComplete?.())})})}get shouldRender(){return d(this.#r)}}function b(){}function Cn(e,t){return`bits-${e}`}const Ve=new we("BitsConfig");function Ue(){const e=new je(null,{});return Ve.getOr(e).opts}class je{opts;constructor(t,n){const r=Ge(t,n);this.opts={defaultPortalTo:r(s=>s.defaultPortalTo),defaultLocale:r(s=>s.defaultLocale)}}}function Ge(e,t){return n=>h(()=>{const s=n(t)?.current;if(s!==void 0)return s;if(e!==null)return n(e.opts)?.current})}function Ct(e,t){return n=>{const r=Ue();return h(()=>{const s=n();if(s!==void 0)return s;const o=e(r).current;return o!==void 0?o:t})}}const On=Ct(e=>e.defaultLocale,"en"),Ln=Ct(e=>e.defaultPortalTo,"body");function ft(e,t=500){let n=null;const r=(...s)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...s)},t)};return r.destroy=()=>{n!==null&&(clearTimeout(n),n=null)},r}function Ot(e,t){return e===t||e.contains(t)}function Lt(e){return e?.ownerDocument??document}function Ke(e,t){const{clientX:n,clientY:r}=e,s=t.getBoundingClientRect();return n<s.left||n>s.right||r<s.top||r>s.bottom}const ze="data-context-menu-trigger",He="data-context-menu-content";Me({component:"menu",parts:["trigger","content","sub-trigger","item","group","group-heading","checkbox-group","checkbox-item","radio-group","radio-item","separator","sub-content","arrow"]});globalThis.bitsDismissableLayers??=new Map;class Q{static create(t){return new Q(t)}opts;#t;#e;#n={pointerdown:!1};#r=!1;#s=!1;#o=void 0;#a;#i=b;constructor(t){this.opts=t,this.#e=t.interactOutsideBehavior,this.#t=t.onInteractOutside,this.#a=t.onFocusOutside,W(()=>{this.#o=Lt(this.opts.ref.current)});let n=b;const r=()=>{this.#h(),globalThis.bitsDismissableLayers.delete(this),this.#u.destroy(),n()};A([()=>this.opts.enabled.current,()=>this.opts.ref.current],()=>{if(!(!this.opts.enabled.current||!this.opts.ref.current))return Se(1,()=>{this.opts.ref.current&&(globalThis.bitsDismissableLayers.set(this,this.#e),n(),n=this.#l())}),r}),k(()=>{this.#h.destroy(),globalThis.bitsDismissableLayers.delete(this),this.#u.destroy(),this.#i(),n()})}#f=t=>{t.defaultPrevented||this.opts.ref.current&&Z(()=>{!this.opts.ref.current||this.#g(t.target)||t.target&&!this.#s&&this.#a.current?.(t)})};#l(){return F(y(this.#o,"pointerdown",F(this.#d,this.#m),{capture:!0}),y(this.#o,"pointerdown",F(this.#p,this.#u)),y(this.#o,"focusin",this.#f))}#c=t=>{let n=t;n.defaultPrevented&&(n=ht(t)),this.#t.current(t)};#u=ft(t=>{if(!this.opts.ref.current){this.#i();return}const n=this.opts.isValidEvent.current(t,this.opts.ref.current)||Ye(t,this.opts.ref.current);if(!this.#r||this.#b()||!n){this.#i();return}let r=t;if(r.defaultPrevented&&(r=ht(r)),this.#e.current!=="close"&&this.#e.current!=="defer-otherwise-close"){this.#i();return}t.pointerType==="touch"?(this.#i(),this.#i=y(this.#o,"click",this.#c,{once:!0})):this.#t.current(r)},10);#d=t=>{this.#n[t.type]=!0};#p=t=>{this.#n[t.type]=!1};#m=()=>{this.opts.ref.current&&(this.#r=qe(this.opts.ref.current))};#g=t=>this.opts.ref.current?Ot(this.opts.ref.current,t):!1;#h=ft(()=>{for(const t in this.#n)this.#n[t]=!1;this.#r=!1},20);#b(){return Object.values(this.#n).some(Boolean)}#y=()=>{this.#s=!0};#v=()=>{this.#s=!1};props={onfocuscapture:this.#y,onblurcapture:this.#v}}function Xe(e=[...globalThis.bitsDismissableLayers]){return e.findLast(([t,{current:n}])=>n==="close"||n==="ignore")}function qe(e){const t=[...globalThis.bitsDismissableLayers],n=Xe(t);if(n)return n[0].opts.ref.current===e;const[r]=t[0];return r.opts.ref.current===e}function Ye(e,t){const n=e.target;if(!Be(n))return!1;const r=!!n.closest(`[${ze}]`);if("button"in e&&e.button>0&&!r)return!1;if("button"in e&&e.button===0&&r)return!0;const s=!!t.closest(`[${He}]`);return r&&s?!1:Lt(n).documentElement.contains(n)&&!Ot(t,n)&&Ke(e,t)}function ht(e){const t=e.currentTarget,n=e.target;let r;e instanceof PointerEvent?r=new PointerEvent(e.type,e):r=new PointerEvent("pointerdown",e);let s=!1;return new Proxy(r,{get:(i,u)=>u==="currentTarget"?t:u==="target"?n:u==="preventDefault"?()=>{s=!0,typeof i.preventDefault=="function"&&i.preventDefault()}:u==="defaultPrevented"?s:u in i?i[u]:e[u]})}function xn(e,t){R(t,!0);let n=p(t,"interactOutsideBehavior",3,"close"),r=p(t,"onInteractOutside",3,b),s=p(t,"onFocusOutside",3,b),o=p(t,"isValidEvent",3,()=>!1);const i=Q.create({id:h(()=>t.id),interactOutsideBehavior:h(()=>n()),onInteractOutside:h(()=>r()),enabled:h(()=>t.enabled),onFocusOutside:h(()=>s()),isValidEvent:h(()=>o()),ref:t.ref});var u=V(),a=U(u);j(a,()=>t.children??G,()=>({props:i.props})),K(e,u),I()}globalThis.bitsEscapeLayers??=new Map;class ${static create(t){return new $(t)}opts;domContext;constructor(t){this.opts=t,this.domContext=new At(this.opts.ref);let n=b;A(()=>t.enabled.current,r=>(r&&(globalThis.bitsEscapeLayers.set(this,t.escapeKeydownBehavior),n=this.#t()),()=>{n(),globalThis.bitsEscapeLayers.delete(this)}))}#t=()=>y(this.domContext.getDocument(),"keydown",this.#e,{passive:!1});#e=t=>{if(t.key!==De||!Je(this))return;const n=new KeyboardEvent(t.type,t);t.preventDefault();const r=this.opts.escapeKeydownBehavior.current;r!=="close"&&r!=="defer-otherwise-close"||this.opts.onEscapeKeydown.current(n)}}function Je(e){const t=[...globalThis.bitsEscapeLayers],n=t.findLast(([s,{current:o}])=>o==="close"||o==="ignore");if(n)return n[0]===e;const[r]=t[0];return r===e}function Fn(e,t){R(t,!0);let n=p(t,"escapeKeydownBehavior",3,"close"),r=p(t,"onEscapeKeydown",3,b);$.create({escapeKeydownBehavior:h(()=>n()),onEscapeKeydown:h(()=>r()),enabled:h(()=>t.enabled),ref:t.ref});var s=V(),o=U(s);j(o,()=>t.children??G),K(e,s),I()}class tt{static instance;#t=yt([]);#e=new WeakMap;#n=new WeakMap;static getInstance(){return this.instance||(this.instance=new tt),this.instance}register(t){const n=this.getActive();n&&n!==t&&n.pause();const r=document.activeElement;r&&r!==document.body&&this.#n.set(t,r),this.#t.current=this.#t.current.filter(s=>s!==t),this.#t.current.unshift(t)}unregister(t){this.#t.current=this.#t.current.filter(r=>r!==t);const n=this.getActive();n&&n.resume()}getActive(){return this.#t.current[0]}setFocusMemory(t,n){this.#e.set(t,n)}getFocusMemory(t){return this.#e.get(t)}isActiveScope(t){return this.getActive()===t}setPreFocusMemory(t,n){this.#n.set(t,n)}getPreFocusMemory(t){return this.#n.get(t)}clearPreFocusMemory(t){this.#n.delete(t)}}class et{#t=!1;#e=null;#n=tt.getInstance();#r=[];#s;constructor(t){this.#s=t}get paused(){return this.#t}pause(){this.#t=!0}resume(){this.#t=!1}#o(){for(const t of this.#r)t();this.#r=[]}mount(t){this.#e&&this.unmount(),this.#e=t,this.#n.register(this),this.#f(),this.#a()}unmount(){this.#e&&(this.#o(),this.#i(),this.#n.unregister(this),this.#n.clearPreFocusMemory(this),this.#e=null)}#a(){if(!this.#e)return;const t=new CustomEvent("focusScope.onOpenAutoFocus",{bubbles:!1,cancelable:!0});this.#s.onOpenAutoFocus.current(t),t.defaultPrevented||requestAnimationFrame(()=>{if(!this.#e)return;const n=this.#c();n?(n.focus(),this.#n.setFocusMemory(this,n)):this.#e.focus()})}#i(){const t=new CustomEvent("focusScope.onCloseAutoFocus",{bubbles:!1,cancelable:!0});if(this.#s.onCloseAutoFocus.current?.(t),!t.defaultPrevented){const n=this.#n.getPreFocusMemory(this);if(n&&document.contains(n))try{n.focus()}catch{document.body.focus()}}}#f(){if(!this.#e||!this.#s.trap.current)return;const t=this.#e,n=t.ownerDocument,r=i=>{if(this.#t||!this.#n.isActiveScope(this))return;const u=i.target;if(!u)return;if(t.contains(u))this.#n.setFocusMemory(this,u);else{const l=this.#n.getFocusMemory(this);if(l&&t.contains(l)&&kt(l))i.preventDefault(),l.focus();else{const m=this.#c(),w=this.#u()[0];(m||w||t).focus()}}},s=i=>{if(!this.#s.loop||this.#t||i.key!=="Tab"||!this.#n.isActiveScope(this))return;const u=this.#l();if(u.length<2)return;const a=u[0],l=u[u.length-1];!i.shiftKey&&n.activeElement===l?(i.preventDefault(),a.focus()):i.shiftKey&&n.activeElement===a&&(i.preventDefault(),l.focus())};this.#r.push(y(n,"focusin",r,{capture:!0}),y(t,"keydown",s));const o=new MutationObserver(()=>{const i=this.#n.getFocusMemory(this);if(i&&!t.contains(i)){const u=this.#c(),a=this.#u()[0],l=u||a;l?(l.focus(),this.#n.setFocusMemory(this,l)):t.focus()}});o.observe(t,{childList:!0,subtree:!0}),this.#r.push(()=>o.disconnect())}#l(){return this.#e?It(this.#e,{includeContainer:!1,getShadowRoot:!0}):[]}#c(){return this.#l()[0]||null}#u(){return this.#e?Pt(this.#e,{includeContainer:!1,getShadowRoot:!0}):[]}static use(t){let n=null;return A([()=>t.ref.current,()=>t.enabled.current],([r,s])=>{r&&s?(n||(n=new et(t)),n.mount(r)):n&&(n.unmount(),n=null)}),k(()=>{n?.unmount()}),{get props(){return{tabindex:-1}}}}}function Rn(e,t){R(t,!0);let n=p(t,"enabled",3,!1),r=p(t,"trapFocus",3,!1),s=p(t,"loop",3,!1),o=p(t,"onCloseAutoFocus",3,b),i=p(t,"onOpenAutoFocus",3,b);const u=et.use({enabled:h(()=>n()),trap:h(()=>r()),loop:s(),onCloseAutoFocus:h(()=>o()),onOpenAutoFocus:h(()=>i()),ref:t.ref});var a=V(),l=U(a);j(l,()=>t.focusScope??G,()=>({props:u.props})),K(e,a),I()}globalThis.bitsTextSelectionLayers??=new Map;class nt{static create(t){return new nt(t)}opts;domContext;#t=b;constructor(t){this.opts=t,this.domContext=new At(t.ref);let n=b;A(()=>this.opts.enabled.current,r=>(r&&(globalThis.bitsTextSelectionLayers.set(this,this.opts.enabled),n(),n=this.#e()),()=>{n(),this.#r(),globalThis.bitsTextSelectionLayers.delete(this)}))}#e(){return F(y(this.domContext.getDocument(),"pointerdown",this.#n),y(this.domContext.getDocument(),"pointerup",vt(this.#r,this.opts.onPointerUp.current)))}#n=t=>{const n=this.opts.ref.current,r=t.target;!lt(n)||!lt(r)||!this.opts.enabled.current||!Qe(this)||!Fe(n,r)||(this.opts.onPointerDown.current(t),!t.defaultPrevented&&(this.#t=Ze(n,this.domContext.getDocument().body)))};#r=()=>{this.#t(),this.#t=b}}const dt=e=>e.style.userSelect||e.style.webkitUserSelect;function Ze(e,t){const n=dt(t),r=dt(e);return D(t,"none"),D(e,"text"),()=>{D(t,n),D(e,r)}}function D(e,t){e.style.userSelect=t,e.style.webkitUserSelect=t}function Qe(e){const t=[...globalThis.bitsTextSelectionLayers];if(!t.length)return!1;const n=t.at(-1);return n?n[0]===e:!1}function In(e,t){R(t,!0);let n=p(t,"preventOverflowTextSelection",3,!0),r=p(t,"onPointerDown",3,b),s=p(t,"onPointerUp",3,b);nt.create({id:h(()=>t.id),onPointerDown:h(()=>r()),onPointerUp:h(()=>s()),enabled:h(()=>t.enabled&&n()),ref:t.ref});var o=V(),i=U(o);j(i,()=>t.children??G),K(e,o),I()}globalThis.bitsIdCounter??={current:0};function $e(e="bits"){return globalThis.bitsIdCounter.current++,`${e}-${globalThis.bitsIdCounter.current}`}class tn{#t;#e=0;#n=S();#r;constructor(t){this.#t=t}#s(){this.#e-=1,this.#r&&this.#e<=0&&(this.#r(),g(this.#n,void 0),this.#r=void 0)}get(...t){return this.#e+=1,d(this.#n)===void 0&&(this.#r=Ut(()=>{g(this.#n,this.#t(...t),!0)})),W(()=>()=>{this.#s()}),d(this.#n)}}const N=new ye;let _=S(null),H=null,L=null,x=!1;const pt=h(()=>{for(const e of N.values())if(e)return!0;return!1});let X=null;const en=new tn(()=>{function e(){document.body.setAttribute("style",d(_)??""),document.body.style.removeProperty("--scrollbar-width"),at&&H?.(),g(_,null)}function t(){L!==null&&(window.clearTimeout(L),L=null)}function n(s,o){t(),x=!0,X=Date.now();const i=X,u=()=>{L=null,X===i&&(xt(N)?x=!1:(x=!1,o()))},a=s===null?24:s;L=window.setTimeout(u,a)}function r(){d(_)===null&&N.size===0&&!x&&g(_,document.body.getAttribute("style"),!0)}return A(()=>pt.current,()=>{if(!pt.current)return;r(),x=!1;const s=getComputedStyle(document.body),o=window.innerWidth-document.documentElement.clientWidth,u={padding:Number.parseInt(s.paddingRight??"0",10)+o,margin:Number.parseInt(s.marginRight??"0",10)};o>0&&(document.body.style.paddingRight=`${u.padding}px`,document.body.style.marginRight=`${u.margin}px`,document.body.style.setProperty("--scrollbar-width",`${o}px`),document.body.style.overflow="hidden"),at&&(H=y(document,"touchmove",a=>{a.target===document.documentElement&&(a.touches.length>1||a.preventDefault())},{passive:!1})),Z(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})}),k(()=>()=>{H?.()}),{get lockMap(){return N},resetBodyStyle:e,scheduleCleanupIfNoNewLocks:n,cancelPendingCleanup:t,ensureInitialStyleCaptured:r}});class nn{#t=$e();#e;#n=()=>null;#r;locked;constructor(t,n=()=>null){this.#e=t,this.#n=n,this.#r=en.get(),this.#r&&(this.#r.cancelPendingCleanup(),this.#r.ensureInitialStyleCaptured(),this.#r.lockMap.set(this.#t,this.#e??!1),this.locked=h(()=>this.#r.lockMap.get(this.#t)??!1,r=>this.#r.lockMap.set(this.#t,r)),k(()=>{if(this.#r.lockMap.delete(this.#t),xt(this.#r.lockMap))return;const r=this.#n();this.#r.scheduleCleanupIfNoNewLocks(r,()=>{this.#r.resetBodyStyle()})}))}}function xt(e){for(const[t,n]of e)if(n)return!0;return!1}function Pn(e,t){R(t,!0);let n=p(t,"preventScroll",3,!0),r=p(t,"restoreScrollDelay",3,null);n()&&new nn(n(),()=>r()),I()}export{bn as A,hn as B,we as C,xn as D,vn as E,Rn as F,yt as G,cn as H,M as I,Sn as J,Ie as K,En as L,On as M,An as P,wn as S,In as T,ln as a,h as b,Me as c,fn as d,dn as e,Cn as f,pn as g,Fn as h,_e as i,Pn as j,ge as k,lt as l,an as m,b as n,k as o,Tn as p,gn as q,Ln as r,he as s,Re as t,Z as u,mn as v,A as w,yn as x,$e as y,At as z};
